# ШПАРГАЛКА: ФОРМУЛЫ И АЛГОРИТМЫ (печать и бери на консультацию)

## ФОРМУЛЫ

### Определители
\[
\det \begin{pmatrix} a & b \\ c & d \end{pmatrix} = ad - bc
\]

\[
\det(A) = a_{11}M_{11} - a_{12}M_{12} + a_{13}M_{13} \quad \text{(разложение по строке 1)}
\]

\[
\det(\text{треугольная матрица}) = a_{11} \cdot a_{22} \cdot \ldots \cdot a_{nn}
\]

### Обратная матрица (2×2)
\[
\begin{pmatrix} a & b \\ c & d \end{pmatrix}^{-1} = \frac{1}{ad-bc} \begin{pmatrix} d & -b \\ -c & a \end{pmatrix}
\]

### Метод Крамера (система AX = B)
\[
x_i = \frac{\Delta_i}{\Delta}, \quad \text{где } \Delta = \det(A), \quad \Delta_i = \det(A_i)
\]

## АЛГОРИТМЫ

### Вычисление определителя 3×3

**Способ 1: Разложение по первой строке**
```
1. Вычислить M₁₁ = |a₂₂  a₂₃| = a₂₂·a₃₃ - a₂₃·a₃₂
                    |a₃₂  a₃₃|

2. Вычислить M₁₂ = |a₂₁  a₂₃| = a₂₁·a₃₃ - a₂₃·a₃₁
                    |a₃₁  a₃₃|

3. Вычислить M₁₃ = |a₂₁  a₂₂| = a₂₁·a₃₂ - a₂₂·a₃₁
                    |a₃₁  a₃₂|

4. det = a₁₁·M₁₁ - a₁₂·M₁₂ + a₁₃·M₁₃
```

**Способ 2: Правило Саррюса**
```
Припиши первые два столбца справа
+ диагонали слева-направо
- диагонали справа-налево
```

### Вычисление определителя 4×4 и больше

```
1. Выбери строку или столбец с максимумом нулей
2. Если нулей нет, создай их элементарными преобразованиями
3. Разложи по этой строке/столбцу
4. Каждый минор — это определитель 3×3, считаешь его
```

### Решение системы методом Крамера

```
1. Выпиши матрицу коэффициентов A и столбец свободных членов B
2. Вычисли Δ = det(A)
3. Если Δ = 0: система либо не имеет решений, либо их бесконечно много
4. Если Δ ≠ 0:
   - Для каждого неизвестного xᵢ: вычисли Δᵢ (замени столбец i на B)
   - xᵢ = Δᵢ / Δ
5. Проверь подстановкой!
```

### Нахождение обратной матрицы (метод элементарных преобразований)

```
1. Припиши единичную матрицу: (A | E)
2. Элементарными преобразованиями строк преобразуй левую половину в E
3. Когда слева будет E, справа будет A⁻¹
```

### Решение матричного уравнения AX = B

```
1. Вычисли det(A)
2. Если det(A) = 0: решения не существует
3. Если det(A) ≠ 0:
   - Найди A⁻¹
   - X = A⁻¹ · B (умножь A⁻¹ НА СЛЕВА)
4. Проверка: A · X = B ?
```

### Решение матричного уравнения XA = B

```
То же самое, но:
   X = B · A⁻¹ (умножь A⁻¹ НА СПРАВА)
```

### Решение матричного уравнения AXB = C

```
Преобразование:
   X = A⁻¹ · C · B⁻¹
```

### Нахождение ранга матрицы

```
1. Элементарными преобразованиями приведи матрицу к ступенчатому виду
2. Посчитай количество ненулевых строк
3. Ранг = это количество
```

## СВОЙСТВА ОПРЕДЕЛИТЕЛЕЙ

| Свойство | Формула | Пример |
|----------|---------|--------|
| Нулевая строка | det = 0 | Если строка (0,0,0) |
| Две одинаковые строки | det = 0 | Если строка 1 = строка 2 |
| Перестановка строк | det меняет знак | det(-A) если поменял две строки |
| Умножение строки на k | det умножится на k | Если умножил на 2, det умножится на 2 |
| Добавление строки к строке | det не меняется | Если строка 2 = строка 2 + k·строка 1 |
| Произведение матриц | det(AB) = det(A)·det(B) | det(A²) = (det A)² |
| Транспонирование | det(Aᵀ) = det(A) | Определитель не меняется |
| Умножение на число | det(kA) = kⁿ·det(A) | Для 3×3: det(2A) = 8·det(A) |

## КОГДА ЧТО РАВНО НУЛЮ

✓ det(A) = 0 ⟺ строки зависимы ⟺ обратная не существует ⟺ систему Крамером не решить

✓ Если одна строка = линейная комбинация других → det = 0

✓ Если есть нулевая строка → det = 0

## ГЛАВНЫЕ ОШИБКИ И КАК ИХ ИЗБЕЖАТЬ

| Ошибка | Как избежать |
|--------|-------------|
| Неправильные знаки при разложении | Запиши схему: +, -, +, -, ... перед вычислениями |
| Забыл проверить det(A) ≠ 0 перед Крамером | Всегда ПЕРВЫЙ шаг |
| Неправильный порядок умножения (AX = B) | X = A⁻¹ · B (слева!) а не B · A⁻¹ |
| Забыл умножить свободный член на E | f(A) = A³ - 3A + 2E (не 2!) |
| Неправильно считал минор | Вычёркивай строку И столбец, затем считай |
| Получился несимметричный результат обратной | Проверь: A · A⁻¹ должна быть E |

## БЫСТРЫЕ ВЫЧИСЛЕНИЯ

### det 2×2 за 10 секунд
```
|a  b|
|c  d| = a·d - b·c
```

### Обратная 2×2 за 20 секунд
```
(|a  b|)⁻¹ = 1/(ad-bc) · |d  -b|
(|c  d|)                 |-c  a|
```

### Когда det очевидно равен нулю
```
- Есть нулевая строка
- Две одинаковые строки
- Вторая строка = k × первая
- Увидел в третьей строке сумму первых двух
```

## ПЕРЕД КОНТРОЛЬНОЙ РЕШИ

### Задачи на определители
- Определитель 2×2
- Определитель 3×3 двумя способами
- Определитель 4×4 с нулями

### Задачи на системы
- Система 2×2 методом Крамера
- Система 3×3 методом Крамера

### Задачи на обратную матрицу
- Обратная 2×2
- Обратная 3×3 методом преобразований
- Проверка A·A⁻¹ = E

### Задачи на матричные уравнения
- AX = B
- XA = B
- AXB = C

### Задачи на ранг
- Ранг матрицы 3×4
- Ранг матрицы 4×4

---

## ЗОЛОТЫЕ ПРАВИЛА

**1. ВСЕГДА ПРОВЕРЯЙ РЕЗУЛЬТАТ**
- Определитель: может ли быть правильным?
- Обратная матрица: A·A⁻¹ = E?
- Решение системы: подставь в исходные уравнения

**2. ВЫБИРАЙ ОПТИМАЛЬНЫЙ ПУТЬ**
- Есть нули? Разлагай по ним!
- Нет нулей? Создай их элементарными преобразованиями!

**3. ПОМНИ ПОРЯДОК ОПЕРАЦИЙ**
- AX = B ⟹ X = A⁻¹B (слева!)
- XA = B ⟹ X = BA⁻¹ (справа!)

**4. СЛЕДИ ЗА ЗНАКАМИ**
- Разложение: +, -, +, -
- Обратная 2×2: поменяй диагональ, минусы к остальным

**5. ПРОВЕРЯЙ УСЛОВИЯ**
- det(A) ≠ 0? (перед Крамером и обратной матрицей)
- Размеры совместимы? (для умножения матриц)